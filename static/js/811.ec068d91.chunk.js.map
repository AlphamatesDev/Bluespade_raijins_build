{"version":3,"file":"static/js/811.ec068d91.chunk.js","mappings":"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","sources":["components/OwnedRaijinsTicketsComp/index.jsx","config/raffles.js","components/Dashboard/DashboardContainer.jsx","components/Dashboard/GeneralStats.jsx","components/Dashboard/ContentContainer.jsx","components/Dashboard/SubtitleContainer.jsx","components/Dashboard/Content.jsx","pages/Dashboard/index.jsx"],"sourcesContent":["import cx from \"classnames\";\r\n// import RaijinsTicketImg from \"assets/images/common/RaijinsTicket.png\";\r\nimport \"./index.scss\";\r\n\r\n// ================================================\r\n\r\nconst OwnedRaijinsTicketsComp = ({ raijinsTicketBalance, variant, classes }) => {\r\n  return (\r\n    <div className={cx(\"owned-raijins-tickets-container\", variant, classes)}>\r\n      <h6 className={cx(\"mb-3\")}>your Raijins tickets: <span>{raijinsTicketBalance}</span></h6>\r\n      {/* <div className={cx(\"d-flex\", \"align-center\")}>\r\n        <img src={RaijinsTicketImg} alt=\"RaijinsTicket.png\" />\r\n        <div className={cx(\"owned-raijins-tickets-num\")}>\r\n          <span>{raijinsTicketBalance}</span>\r\n          <br /> owned\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OwnedRaijinsTicketsComp;\r\n","import Raffle0 from \"assets/images/raffle/Raffle0.png\";\r\nimport Raffle1 from \"assets/images/raffle/Raffle1.png\";\r\nimport Raffle2 from \"assets/images/raffle/Raffle2.png\";\r\nimport Raffle3 from \"assets/images/raffle/Raffle3.png\";\r\nimport Raffle4 from \"assets/images/raffle/Raffle4.png\";\r\nimport Raffle5 from \"assets/images/raffle/Raffle5.png\";\r\nimport Raffle6 from \"assets/images/raffle/Raffle6.png\";\r\nimport Raffle7 from \"assets/images/raffle/Raffle7.png\";\r\nimport Raffle8 from \"assets/images/raffle/Raffle8.png\";\r\nimport Raffle9 from \"assets/images/raffle/Raffle9.png\";\r\nimport Raffle10 from \"assets/images/raffle/Raffle10.png\";\r\nimport Raffle11 from \"assets/images/raffle/Raffle11.png\";\r\nimport Raffle12 from \"assets/images/raffle/Raffle12.png\";\r\nimport Raffle13 from \"assets/images/raffle/Raffle13.png\";\r\nimport Raffle14 from \"assets/images/raffle/Raffle14.png\";\r\nimport Raffle15 from \"assets/images/raffle/Raffle15.png\";\r\nimport Raffle16 from \"assets/images/raffle/Raffle16.png\";\r\nimport Raffle17 from \"assets/images/raffle/Raffle17.png\";\r\nimport Raffle18 from \"assets/images/raffle/Raffle18.png\";\r\nimport Raffle19 from \"assets/images/raffle/Raffle19.png\";\r\nimport Raffle20 from \"assets/images/raffle/Raffle20.png\";\r\n\r\n\r\nexport const Raijins_RAFFLES = [\r\n    {\r\n      id: 0,\r\n      image: Raffle0,\r\n      title: \"MATIC GOLD CHEST\",\r\n    },\r\n    {\r\n      id: 1,\r\n      image: Raffle1,\r\n      title: \"MATIC SILVER CHEST\",\r\n    },\r\n    {\r\n      id: 2,\r\n      image: Raffle2,\r\n      title: \"MATIC BRONZE CHEST\",\r\n    },\r\n    {\r\n      id: 3,\r\n      image: Raffle3,\r\n      title: \"Raijins TICKETS - RANDOM BOX\",\r\n    },\r\n    {\r\n      id: 4,\r\n      image: Raffle4,\r\n      title: \"NFTS - other collections\",\r\n    },\r\n    {\r\n      id: 5,\r\n      image: Raffle5,\r\n      title: \"Raijins custom - 1/1 (any collection)\",\r\n    },\r\n    {\r\n      id: 6,\r\n      image: Raffle6,\r\n      title: \"Raijins custom - 1/1 (coloured raijins)\",\r\n    },\r\n    {\r\n      id: 7,\r\n      image: Raffle7,\r\n      title: \"Raijins - Raijins 1 (First Edition)\",\r\n    },\r\n    {\r\n      id: 8,\r\n      image: Raffle8,\r\n      title: \"Raijins - Raijins 1 (Tamahagane Edition)\",\r\n    },\r\n    {\r\n      id: 9,\r\n      image: Raffle9,\r\n      title: \"Raijins - Raijins 1 (Jade Edition)\",\r\n    },\r\n    {\r\n      id: 10,\r\n      image: Raffle10,\r\n      title: \"Raijins - Raijins 1 (Ghost Edition)\",\r\n    },\r\n    {\r\n      id: 11,\r\n      image: Raffle11,\r\n      title: \"Raijins - Raijins 2 (First Edition)\",\r\n    },\r\n    {\r\n      id: 12,\r\n      image: Raffle12,\r\n      title: \"Raijins - Raijins 2 (Tamahagane Edition)\",\r\n    },\r\n    {\r\n      id: 13,\r\n      image: Raffle13,\r\n      title: \"Raijins - Raijins 2 (Jade Edition)\",\r\n    },\r\n    {\r\n      id: 14,\r\n      image: Raffle14,\r\n      title: \"Raijins - Raijins 2 (Ghost Edition)\",\r\n    },\r\n    {\r\n      id: 15,\r\n      image: Raffle15,\r\n      title: \"Raijins - Raijins 3 (First Edition)\",\r\n    },\r\n    {\r\n      id: 16,\r\n      image: Raffle16,\r\n      title: \"Raijins - Raijins 3 (Tamahagane Edition)\",\r\n    },\r\n    {\r\n      id: 17,\r\n      image: Raffle17,\r\n      title: \"Raijins - Raijins 3 (Jade Edition)\",\r\n    },\r\n    {\r\n      id: 18,\r\n      image: Raffle18,\r\n      title: \"Raijins - Raijins 3 (Ghost Edition)\",\r\n    },\r\n    {\r\n      id: 19,\r\n      image: Raffle19,\r\n      title: \"Raijins - Raijins NFT\",\r\n    },\r\n    {\r\n      id: 20,\r\n      image: Raffle20,\r\n      title: \"Raijins - Raijins NFT\",\r\n    }\r\n  ];","import cx from \"classnames\";\r\n\r\nconst DashboardContainer = ({ children }) => {\r\n  return (\r\n    <div className={cx(\"dashboard-container\")}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardContainer;\r\n","import cx from \"classnames\";\r\nimport OwnedRaijinsTicketsComp from \"../OwnedRaijinsTicketsComp\";\r\n// import TOTPrizeWonComp from \"../TOTPrizeWonComp\";\r\n\r\nconst GeneralStats = ({ isMobile, raijinsTicketBalance, activeRaffles }) => {\r\n  // const wonTOTPrizesNum = 15234;\r\n  const liveRaffles = activeRaffles.filter((item) => !item.ended);\r\n\r\n  return (\r\n    <div className={cx(\"general-stats\")}>\r\n      <h4\r\n        className={cx(\r\n          isMobile ? \"text-white\" : \"text-primary\",\r\n          \"uppercase\",\r\n          // \"italic\",\r\n          \"mb-3\"\r\n        )}\r\n      >\r\n        general stats\r\n      </h4>\r\n      <div\r\n        className={cx(\r\n          \"d-flex\",\r\n          isMobile ? \"flex-column\" : \"flex-row\",\r\n          \"justify-between\",\r\n          isMobile ? \"align-center\" : \"\",\r\n          \"mb-3\",\r\n          \"gap-1\"\r\n        )}\r\n      >\r\n        <OwnedRaijinsTicketsComp\r\n          raijinsTicketBalance={raijinsTicketBalance}\r\n          variant={isMobile ? \"light\" : \"primary\"}\r\n        />\r\n        {/* <TOTPrizeWonComp\r\n          wonTOTPrizesNum={wonTOTPrizesNum}\r\n          variant={isMobile ? \"light\" : \"dark\"}\r\n        /> */}\r\n      </div>\r\n      <h5 className={cx(\"uppercase\", \"italic\", \"text-warning\", \"yokomoji\", \"mb-3\")}>\r\n        {liveRaffles.length === 0 ? \"no active raffles\" : \"active raffles participation\"}\r\n      </h5>\r\n      <div className={cx(\"raffles-table-wrapper\")}>\r\n        <table className={cx(\"raffles-table\", \"uppercase\", \"italic\")}>\r\n          <tbody>\r\n            {liveRaffles.map((raffle) => (\r\n              <tr key={raffle.title}>\r\n                <td className={cx(isMobile ? \"text-black\" : \"text-white\")}>\r\n                  {raffle.title}\r\n                </td>\r\n                <td>{raffle.ticketCntForUser ? raffle.ticketCntForUser : 0} raijins tickets</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GeneralStats;\r\n","import cx from \"classnames\";\r\nimport PageTitle from \"components/PageTitle\";\r\n\r\n// ================================================\r\n\r\nconst ContentContainer = ({ children, isMobile }) => {\r\n  return (\r\n    <div\r\n      className={cx(\r\n        \"title-container\",\r\n        \"d-flex\",\r\n        \"justify-center\",\r\n        \"flex-column\"\r\n      )}\r\n    >\r\n      <PageTitle classes={cx(\"mb-3\", isMobile ? \"w-100\" : \"w-60\", \"mx-auto\")}>\r\n        your raijins <span>dashboard</span>\r\n      </PageTitle>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContentContainer;\r\n","import cx from \"classnames\";\r\nimport Description from \"components/Description\";\r\nimport RoundButton from \"components/RoundButton\";\r\n// import { toggleConnect } from \"lib/store/walletSlice\";\r\n\r\n// ================================================\r\n\r\nconst SubtitleContainer = (props) => {\r\n  const { connectWallet } = props;\r\n\r\n  return (\r\n    <div className={cx(\"subtitle-container\")}>\r\n      <Description classes={cx(\"text-center\", \"mb-3\", \"w-70\", \"mx-auto\")}>\r\n        Connect your wallet to check your activities (including Raijins Tickets\r\n        balance and raffles activities)\r\n      </Description>\r\n      <div className=\"text-center\">\r\n        <RoundButton\r\n          text=\"connect wallet\"\r\n          variant=\"primary\"\r\n          onBtnClick={connectWallet}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubtitleContainer;\r\n","// import { useWeb3React } from \"@web3-react/core\";\r\n\r\nimport GeneralStats from \"./GeneralStats\";\r\nimport ContentContainer from \"./ContentContainer\";\r\nimport SubtitleContainer from \"./SubtitleContainer\";\r\n\r\n// ================================================\r\n\r\nconst Content = (props) => {\r\n  const { connectWallet, isWalletConnected, isMobile, raijinsTicketBalance, activeRaffles } = props;\r\n\r\n  return (\r\n    <ContentContainer isMobile={isMobile}>\r\n      {isWalletConnected ? (\r\n        <GeneralStats\r\n          isMobile={isMobile}\r\n          raijinsTicketBalance={raijinsTicketBalance}\r\n          activeRaffles={activeRaffles}\r\n        />\r\n      ) : (\r\n        <SubtitleContainer connectWallet={connectWallet} />\r\n      )}\r\n    </ContentContainer>\r\n  );\r\n};\r\n\r\nexport default Content;\r\n","import useSWR from \"swr\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\n\r\nimport Layout from \"components/Layout\";\r\nimport DashboardContainer from \"components/Dashboard/DashboardContainer\";\r\nimport Content from \"components/Dashboard/Content\";\r\nimport ImageContainer from \"components/Dashboard/ImageContainer\";\r\nimport { useMediaQuery } from \"@uidotdev/usehooks\";\r\nimport \"./index.scss\";\r\nimport { useChainId } from \"lib/chains\";\r\nimport RaijinsTicket from \"abis/RaijinsTicket.json\";\r\nimport RaffleRaijins from \"abis/RaffleRaijins.json\";\r\nimport { getContract } from \"config/contracts\";\r\nimport { Raijins_RAFFLES } from \"config/raffles\";\r\nimport { contractFetcher } from \"lib/contracts\";\r\nimport {\r\n  formatAmount,\r\n} from \"lib/numbers\";\r\n\r\n// ================================================\r\nconst loadActiveRaffles = (dataContract, period, waitingPeriod) => {\r\n  if (dataContract === undefined) return [];\r\n  if (dataContract.length === 0) return [];\r\n\r\n  if (period === undefined || period === 0) return [];\r\n  if (waitingPeriod === undefined || waitingPeriod === 0) return [];\r\n\r\n  const ret = dataContract.map((item, index) => {\r\n    if (item.isDisabled) return null;\r\n\r\n    const raffleInfo = Raijins_RAFFLES[index];\r\n    let winningRate1x = 1 / (parseInt(item.totalTicketCnt.toString()) + 1) * 100;\r\n\r\n    let winningRate = 0;\r\n    if (parseInt(item.totalTicketCnt.toString()) === 0\r\n     || parseInt(item.ticketCntForUser.toString()) === 0) \r\n      winningRate = 0;\r\n    else {\r\n      winningRate =\r\n        (parseInt(item.ticketCntForUser.toString()) / parseInt(item.totalTicketCnt.toString())) * 100;\r\n    }\r\n\r\n    let days = 0;\r\n    let hours = 0;\r\n    let minutes = 0;\r\n    const currentTime = new Date().getTime() / 1000;\r\n    const endTime =\r\n      parseInt(item.timeStarted.toString()) + parseInt(period.toString());\r\n\r\n    let isEnded = false;\r\n    if (currentTime >= endTime || item.isDecided)\r\n      isEnded = true;\r\n    else if (currentTime < endTime) {\r\n      const timeToEnd = endTime - currentTime;\r\n      days = Math.floor(timeToEnd / (60 * 60 * 24));\r\n      hours = Math.floor((timeToEnd % (60 * 60 * 24)) / (60 * 60));\r\n      minutes = Math.floor((timeToEnd % (60 * 60)) / 60);\r\n    }\r\n\r\n    let daysNext = 0;\r\n    let hoursNext = 0;\r\n    let minutesNext = 0;\r\n    if (item.isDecided) {\r\n      const nextRaffleTime = parseInt(item.timeDecided.toString()) + parseInt(waitingPeriod.toString());\r\n      const timeToNextRaffle = nextRaffleTime - currentTime;\r\n      if (currentTime < nextRaffleTime) {\r\n        daysNext = Math.floor(timeToNextRaffle / (60 * 60 * 24));\r\n        hoursNext = Math.floor((timeToNextRaffle % (60 * 60 * 24)) / (60 * 60));\r\n        minutesNext = Math.floor((timeToNextRaffle % (60 * 60)) / 60);\r\n      }\r\n    }\r\n\r\n    return {\r\n      id: raffleInfo.id,\r\n      image: raffleInfo.image,\r\n      title: raffleInfo.title,\r\n      value: item.value,\r\n      winningRate1x: winningRate1x.toFixed(0),\r\n      winningRate: winningRate.toFixed(0),\r\n      winner: item.winner,\r\n      ended: isEnded,\r\n      decided: item.isDecided,\r\n      remainingTime: {\r\n        days: days,\r\n        hours: hours,\r\n        minutes: minutes,\r\n      },\r\n      remainingTimeNextRaffle: {\r\n        days: daysNext,\r\n        hours: hoursNext,\r\n        minutes: minutesNext,\r\n      },\r\n      ticketCntForUser: parseInt(item.ticketCntForUser.toString())\r\n    };\r\n  });\r\n\r\n  const finalArray = ret.filter((item) => item !== null);\r\n  return finalArray;\r\n};\r\n\r\nconst Dashboard = (props) => {\r\n  const { connectWallet } = props;\r\n  const isMobile = useMediaQuery(\"only screen and (max-width: 640px)\");\r\n  const { active, library, account } = useWeb3React();\r\n  const { chainId } = useChainId();\r\n\r\n  const ticketAddress = getContract(chainId, \"RaijinsTicket\");\r\n  const raffleAddress = getContract(chainId, \"RaffleRaijins\");\r\n\r\n  const { data: ticketBalance } = useSWR(\r\n    active &&\r\n    ticketAddress && [active, chainId, ticketAddress, \"balanceOf\", account],\r\n    { fetcher: contractFetcher(library, RaijinsTicket) }\r\n  );\r\n\r\n  const { data: period } = useSWR(\r\n    active && raffleAddress && [active, chainId, raffleAddress, \"period\"],\r\n    { fetcher: contractFetcher(library, RaffleRaijins) }\r\n  );\r\n\r\n  const { data: waitingPeriod } = useSWR(\r\n    active && raffleAddress && [active, chainId, raffleAddress, \"waitingPeriod\"],\r\n    { fetcher: contractFetcher(library, RaffleRaijins) }\r\n  );\r\n\r\n  const { data: dataContract } = useSWR(\r\n    active &&\r\n    raffleAddress && [\r\n      active,\r\n      chainId,\r\n      raffleAddress,\r\n      \"getRaffleInfo\",\r\n      account,\r\n    ],\r\n    { fetcher: contractFetcher(library, RaffleRaijins) }\r\n  );\r\n  let activeRaffles = loadActiveRaffles(dataContract, period, waitingPeriod);\r\n\r\n  return (\r\n    <Layout>\r\n      <DashboardContainer>\r\n        <Content\r\n          connectWallet={connectWallet}\r\n          isWalletConnected={active}\r\n          isMobile={isMobile}\r\n          raijinsTicketBalance={formatAmount(ticketBalance, 18, 0)}\r\n          activeRaffles={activeRaffles}\r\n        />\r\n        {/* {isMobile ? null : <ImageContainer />} */}\r\n      </DashboardContainer>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"names":["_ref","raijinsTicketBalance","variant","classes","_jsx","className","cx","children","_jsxs","Raijins_RAFFLES","id","image","title","isMobile","liveRaffles","activeRaffles","filter","item","ended","OwnedRaijinsTicketsComp","length","map","raffle","ticketCntForUser","PageTitle","props","connectWallet","Description","RoundButton","text","onBtnClick","isWalletConnected","ContentContainer","GeneralStats","SubtitleContainer","useMediaQuery","_useWeb3React","useWeb3React","active","library","account","chainId","useChainId","ticketAddress","getContract","raffleAddress","ticketBalance","useSWR","fetcher","contractFetcher","RaijinsTicket","data","period","RaffleRaijins","waitingPeriod","dataContract","undefined","index","isDisabled","raffleInfo","winningRate1x","parseInt","totalTicketCnt","toString","winningRate","days","hours","minutes","currentTime","Date","getTime","endTime","timeStarted","isEnded","isDecided","timeToEnd","Math","floor","daysNext","hoursNext","minutesNext","nextRaffleTime","timeDecided","timeToNextRaffle","value","toFixed","winner","decided","remainingTime","remainingTimeNextRaffle","loadActiveRaffles","Layout","DashboardContainer","Content","formatAmount"],"sourceRoot":""}